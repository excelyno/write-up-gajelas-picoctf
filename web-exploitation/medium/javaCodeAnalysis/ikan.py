import jwt
import json

SECRET = "1234"
ALGO = "HS256"

token = input("Masukkan JWT: ")

# Decode tanpa verifikasi (untuk belajar)
decoded = jwt.decode(token, options={"verify_signature": False})
print("\nPayload asli:")
print(json.dumps(decoded, indent=4))

# Ubah payload
print("\nMasukkan payload baru (kosongkan jika tidak ingin mengubah nilai):")
for k in list(decoded.keys()):
    new_val = input(f"{k} ({decoded[k]}): ")
    if new_val.strip() != "":
        # cast angka jika numeric
        decoded[k] = int(new_val) if new_val.isdigit() else new_val

print("\nPayload baru:")
print(json.dumps(decoded, indent=4))

# Encode + sign ulang
new_token = jwt.encode(decoded, SECRET, algorithm=ALGO)

print("\nJWT baru:")
print(new_token)
